<% was_validated = upload_image.errors.any? %>

<%= form_with(model: upload_image, local: true, novalidate: true, class: "mb-3") do |f| %>
  <div class="form-group">
    <% image_class = "form-control" %>
    <% image_was_invalid = upload_image.errors.include?(:image) %>

    <% if was_validated %>
      <% if image_was_invalid %>
        <% image_class << " is-invalid" %>
      <% else %>
        <% image_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :image %>
    <%= f.file_field :image, class: "form-control" %>
    <% if image_was_invalid %>
      <% upload_image.errors.full_messages_for(:image).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% topstyle_class = "form-control" %>
    <% topstyle_was_invalid = upload_image.errors.include?(:topstyle) %>

    <% if was_validated %>
      <% if topstyle_was_invalid %>
        <% topstyle_class << " is-invalid" %>
      <% else %>
        <% topstyle_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :topstyle %>
    <%= f.text_field :topstyle, class: topstyle_class, placeholder: "Enter topstyle" %>
    <% if topstyle_was_invalid %>
      <% upload_image.errors.full_messages_for(:topstyle).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% topcolor_class = "form-control" %>
    <% topcolor_was_invalid = upload_image.errors.include?(:topcolor) %>

    <% if was_validated %>
      <% if topcolor_was_invalid %>
        <% topcolor_class << " is-invalid" %>
      <% else %>
        <% topcolor_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :topcolor %>
    <%= f.text_field :topcolor, class: topcolor_class, placeholder: "Enter topcolor" %>
    <% if topcolor_was_invalid %>
      <% upload_image.errors.full_messages_for(:topcolor).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% bottomstyle_class = "form-control" %>
    <% bottomstyle_was_invalid = upload_image.errors.include?(:bottomstyle) %>

    <% if was_validated %>
      <% if bottomstyle_was_invalid %>
        <% bottomstyle_class << " is-invalid" %>
      <% else %>
        <% bottomstyle_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :bottomstyle %>
    <%= f.text_field :bottomstyle, class: bottomstyle_class, placeholder: "Enter bottomstyle" %>
    <% if bottomstyle_was_invalid %>
      <% upload_image.errors.full_messages_for(:bottomstyle).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% bottomcolor_class = "form-control" %>
    <% bottomcolor_was_invalid = upload_image.errors.include?(:bottomcolor) %>

    <% if was_validated %>
      <% if bottomcolor_was_invalid %>
        <% bottomcolor_class << " is-invalid" %>
      <% else %>
        <% bottomcolor_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :bottomcolor %>
    <%= f.text_field :bottomcolor, class: bottomcolor_class, placeholder: "Enter bottomcolor" %>
    <% if bottomcolor_was_invalid %>
      <% upload_image.errors.full_messages_for(:bottomcolor).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% shoestyle_class = "form-control" %>
    <% shoestyle_was_invalid = upload_image.errors.include?(:shoestyle) %>

    <% if was_validated %>
      <% if shoestyle_was_invalid %>
        <% shoestyle_class << " is-invalid" %>
      <% else %>
        <% shoestyle_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :shoestyle %>
    <%= f.text_field :shoestyle, class: shoestyle_class, placeholder: "Enter shoestyle" %>
    <% if shoestyle_was_invalid %>
      <% upload_image.errors.full_messages_for(:shoestyle).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% shoecolor_class = "form-control" %>
    <% shoecolor_was_invalid = upload_image.errors.include?(:shoecolor) %>

    <% if was_validated %>
      <% if shoecolor_was_invalid %>
        <% shoecolor_class << " is-invalid" %>
      <% else %>
        <% shoecolor_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :shoecolor %>
    <%= f.text_field :shoecolor, class: shoecolor_class, placeholder: "Enter shoecolor" %>
    <% if shoecolor_was_invalid %>
      <% upload_image.errors.full_messages_for(:shoecolor).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="form-group">
    <% vibe_class = "form-control" %>
    <% vibe_was_invalid = upload_image.errors.include?(:vibe) %>

    <% if was_validated %>
      <% if vibe_was_invalid %>
        <% vibe_class << " is-invalid" %>
      <% else %>
        <% vibe_class << " is-valid" %>
      <% end %>
    <% end %>

    <%= f.label :vibe %>
    <%= f.select :vibe, options_for_select(UploadImage.vibes.keys), {}, class: "form-control" %>
    <% if vibe_was_invalid %>
      <% upload_image.errors.full_messages_for(:vibe).each do |message| %>
        <div class="invalid-feedback d-flex">
          <%= message %>
        </div>
      <% end %>
    <% end %>
  </div>
  <%= f.button class: "btn btn-outline-secondary btn-block" %>
<% end %>
